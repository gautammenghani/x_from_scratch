1. Find the libs being used by ping
	- ldd /usr/bin/ping

2. Find the func calls being made	
	- nm -uD /usr/bin/ping


// misc
gautam@biggie:/opt/linux$ nm -uD /usr/bin/ping
                 U abort@GLIBC_2.2.5
                 U __assert_fail@GLIBC_2.2.5
                 U bind@GLIBC_2.2.5
                 U cap_free
                 U cap_get_flag
                 U cap_get_proc
                 U cap_init
                 U cap_set_flag
                 U cap_set_proc


// studying the src code of ping in iputils

1. enable CAP_NET_RAW capability
2. Open a dgram/raw socket with protocol IPPROTO_ICMP
3. disable capability raw
4. set QOS params
5. Send ICMP echo request and parse reply

//seq
1. getaddrinfo
2. ping4_run
    - inet_aton
    - probe_fd = socket(AF_INET, SOCK_DGRAM, 0);
    - connect() to dst
    - getsockname of src
    - setsockopt- 2 times
    - some setup- needed?
    - main_loop
        - pinger : compose and transmit ICMP echo request packet
            - call ping4_send_probe
                - sendto()
        - recvmsg()
        - ping4_parse_reply
        - finish


// Use of SOCK_RAW vs SOCK_DGRAM
Debian/ubuntu use SOCK_RAW
Fedora uses SOCK_DGRAM

// To EXPLORE
1. what is network byte order?
2. on ubuntu, why does gdb need sudo?
